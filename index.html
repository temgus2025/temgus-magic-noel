<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>No√´l Magique</title>

<!-- Rendre le site responsive -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top, #061f18, #010807);
    overflow: hidden;
    color: white;
}

/* SC√àNES */
.scene {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 1.5s ease, transform 1.5s ease;
}

.hidden {
    opacity: 0;
    pointer-events: none;
}

/* INTRO */
#intro {
    flex-direction: column;
    text-align: center;
}

#intro h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3em;
}

#intro p {
    font-size: 1.2em;
}

#intro button {
    margin-top: 30px;
    padding: 15px 40px;
    border-radius: 40px;
    border: none;
    background: #ffd700;
    font-size: 1.1em;
    cursor: pointer;
}

/* CARTE */
#cardScene {
    opacity: 0;
    transform: scale(1.2);
}

.card {
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(10px);
    border-radius: 25px;
    padding: 45px;
    text-align: center;
    max-width: 520px;
    box-shadow: 0 30px 70px rgba(0,0,0,0.6);
    animation: float 6s ease-in-out infinite;
    color: #ffffff;
}

@keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.photo {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    border: 4px solid #ffd700;
    object-fit: cover;
    margin-bottom: 20px;
}

.message {
    margin-top: 20px;
}

.message .title {
    display: block;
    font-family: 'Playfair Display', serif;
    font-size: 1.5em;
    color: #ffd700;
    margin-bottom: 15px;
    animation: sparkle 1.5s infinite alternate;
}

@keyframes sparkle {
    from { text-shadow: 0 0 5px #ffd700; }
    to { text-shadow: 0 0 20px #ffd700, 0 0 30px #fff8c0; }
}

.message-text {
    font-size: 1.15em;
    line-height: 1.8;
    color: #ffffff;
    min-height: 70px; /* pour √©viter d√©placement lors de l'√©criture */
}

.signature {
    margin-top: 20px;
    color: #ffd700;
    font-style: italic;
}

/* BOUTONS */
.controls {
    margin-top: 30px;
}

.controls button {
    padding: 10px 25px;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    background: #ffd700;
    font-size: 1em;
}

/* FLOCONS */
.snowflake {
    position: fixed;
    top: -10px;
    color: white;
    animation: fall linear infinite;
    pointer-events: none;
}

@keyframes fall { to { transform: translateY(110vh); } }

/* --- RESPONSIVE --- */
@media (max-width: 600px) {
    #intro h1 {
        font-size: 2em;
    }

    #intro p {
        font-size: 1em;
    }

    #intro button, .controls button {
        font-size: 0.9em;
        padding: 10px 20px;
    }

    .card {
        padding: 25px;
        max-width: 90%;
    }

    .photo {
        width: 100px;
        height: 100px;
    }

    .message .title {
        font-size: 1.2em;
    }

    .message-text {
        font-size: 1em;
    }
}
</style>
</head>

<body>

<audio id="music" src="music.mp3" loop></audio>

<!-- INTRO -->
<div class="scene" id="intro">
    <h1>‚ú® Bienvenue ‚ú®</h1>
    <p>Entre dans la magie de No√´l</p>
    <button onclick="startExperience()">üéÑ Entrer</button>
</div>

<!-- CARTE -->
<div class="scene hidden" id="cardScene">
    <div class="card">
        <img src="teko.jpg" class="photo" alt="Ma photo">

        <div class="message">
            <span class="title">Joyeux No√´l ‚ú®</span>
        </div>

        <div class="message-text" id="message-text">
            <!-- Texte s'affichera lettre par lettre ici -->
        </div>

        <div class="signature">
            Avec toute mon affection ‚ù§Ô∏è
        </div>

        <div class="controls">
            <button onclick="toggleMusic()">üé∂ Musique</button>
        </div>
    </div>
</div>

<script>
// Texte √† afficher
const fullMessage = "Que cette p√©riode magique t‚Äôapporte joie, amour et instants pr√©cieux √† partager.";

// Fonction pour √©crire lettre par lettre
function typeMessage(elementId, text, speed=50) {
    let i = 0;
    const el = document.getElementById(elementId);
    el.innerHTML = "";
    const interval = setInterval(() => {
        el.innerHTML += text.charAt(i);
        i++;
        if(i >= text.length) clearInterval(interval);
    }, speed);
}

// Gestion sc√®nes
function startExperience() {
    document.getElementById('intro').classList.add('hidden');
    const card = document.getElementById('cardScene');
    card.classList.remove('hidden');
    card.style.opacity = 1;
    card.style.transform = 'scale(1)';
    document.getElementById('music').play();

    typeMessage("message-text", fullMessage, 40); // vitesse de frappe
}

function toggleMusic() {
    const m = document.getElementById('music');
    m.paused ? m.play() : m.pause();
}

// Neige
const flakes = ["‚ùÑ","‚ùÖ","‚ùÜ"];
for (let i = 0; i < 45; i++) {
    const snow = document.createElement("div");
    snow.className = "snowflake";
    snow.innerHTML = flakes[Math.floor(Math.random()*flakes.length)];
    snow.style.left = Math.random()*100 + "vw";
    snow.style.fontSize = Math.random()*18 + 10 + "px";
    snow.style.animationDuration = Math.random()*10 + 6 + "s";
    document.body.appendChild(snow);
}
</script>

</body>
</html>
